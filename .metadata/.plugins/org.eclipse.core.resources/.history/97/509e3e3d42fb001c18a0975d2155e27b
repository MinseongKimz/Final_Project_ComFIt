<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.test.mybatis.IAdmin">

	<!-- 총 게시글 갯수 출력 -->
	<select id="countBoard" resultType="int">
		SELECT COUNT(*) FROM BOARD
	</select>
	
	<!-- 페이징 처리 후 게시글 조회 -->
	<select id="selectMoney" resultType="com.test.util.ArticlePage">
		SELECT M_DATE, M_MONEY
		FROM
		(
		SELECT M_DATE, M_MONEY
		, CASE WHEN SUBSTR(M_ID,1,3) = 'inm' THEN '입금'
		        WHEN SUBSTR(M_ID,1,4) = 'outm' THEN '출금'
		    ELSE '에러' END AS INOUT
		FROM MONEY_INOUT_VIEW
		WHERE U_ID = #{}
		ORDER BY M_DATE DESC
		)
		WHERE ROWNUM BETWEEN #{start} AND #{end}
	</select>

</mapper>