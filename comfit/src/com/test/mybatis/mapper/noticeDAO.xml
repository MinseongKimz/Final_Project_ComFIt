<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.test.mybatis.IAdmin">

	<!-- 공지사항 리스트 출력  -->
	<select id="noticeList" resultType="com.test.mybatis.NoticeDTO">
		SELECT ANNOUNCE_ID,ANNOUNCE_TITLE,ANNOUNCE_CONTENTS
		FROM ANNOUNCE
	</select>
	
	
	
	<!-- 공지사항 카테고리 출력  -->
	<select id="noticecateList" resultType="com.test.mybatis.NoticeDTO">
		SELECT ANOUN_CATE_ID,ANOUN_CATE_NAME
		FROM ANNOUNCE_CATEGORY
	</select> 
	
	
	<!-- 공지사항 추가 등록  -->
	<insert id="noticeInsert">
		INSERT INTO ANNOUNCE (ANNOUNCE_ID,ANNOUNCE_TITLE,ANNOUNCE_CONTENTS,ANOUN_CATE_ID)
		VALUES(CONCAT('ann_', ANNOUNCE_SEQ.NEXTVAL),#{announce_title},#{announce_contents},#{anoun_cate_id})
	</insert>
	
	
	<!-- 공지사항 수정  -->
	<update id="AnnounceModify">
		UPDATE ANNOUNCE
		SET ANNOUNCE_TITLE =#{notice_title}
    	,ANNOUNCE_CONTENTS = #{notice_contents}
    	,ANOUN_CATE_ID=#{notice_cate_id}
		WHERE ANNOUNCE_ID=#{notice_id}
	</update>
	
	<!-- 공지사항 삭제  -->
	<delete id="AnnounceDelete">
		DELETE
		FROM ANNOUNCE
		WHERE ANNOUNCE_ID=#{notice_id}
	</delete>

</mapper>